# Утилита для поиска информации о людях с помощью LLm

Этот проект представляет собой консольную утилиту для сбора, обработки, анализа и экспорта данных о людях. Процесс включает в себя очистку данных из базы, обогащение информации с помощью больших языковых моделей (LLM), поиск дополнительной информации и фотографий, и, наконец, экспорт результатов в форматах Markdown и HTML.

Основные возможности
- Подготовка базы данных: Очистка исходных данных и создание рабочих таблиц.
- Предварительная обработка: Нормализация и очистка имен и описаний перед отправкой в LLM.
- Обогащение данных с помощью LLM: Использование языковых моделей для извлечения структурированной информации (имя, фамилия, описание).
- Поиск дополнительной информации: Автоматизированный поиск в интернете для нахождения дополнительной информации и ссылок, связанных с персоной.
- Анализ и кластеризация фотографий: Поиск изображений по найденным ссылкам, фильтрация фотографий с лицами и их группировка по схожести.
- Экспорт результатов: Возможность сохранения отчетов по каждой персоне в отдельные Markdown-файлы, а также экспорт всех обработанных данных в единый HTML-файл.

## Подготовка

1. Клонируйте репозиторий:
2. Установите зависимости (пример):
```bash
pip install -r requirements.txt
```
3. Создайте .env файл:
```
DB_HOST=
DB_NAME=
DB_USER=
DB_PASSWORD=
DB_PORT=
OPENROUTER_API_KEY=
LLM_URL=
```
---

## Использование
Запуск скрипта с CLI:
```bash
python main.py --help
```
Выводит справку:
```text

Инструменты для поиска информации с помощью LLM.

options:
  -h, --help     show this help message and exit
  --clean-db     Очистка и подготовка базы данных
  --pre-llm      Предобработка данных
  --llm          Обработка записей через LLM
  --search       Поиск информации и экспорт в Markdown
  --photos       Поиск фотографий из ссылок
```
Примеры команд:

```bash
python main.py --clean-db
python main.py --llm
python main.py --search
```
---
## Структура проекта
* `main.py` — основной скрипт с CLI и логикой обработки.
* `db.py` — управление базой данных.
* `llm_client.py` — работа с LLM.
* `perp_client.py` — поиск информации через Perplexity.
* `photo_processor.py` — поиск и анализ фотографий.
* `md_exporter.py` — экспорт данных в Markdown.
* `logger.py` — настройка логирования.
* `config.py` — конфигурация проекта.
---
